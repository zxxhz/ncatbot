## ncatbot

---
![img.png](img.png)
<h4 align="center">åŸºäºNapCatçš„QQæœºå™¨äººpythonå¿«é€Ÿå¼€å‘æ¡†æ¶</h4>
<p align="center">
    <a href='https://gitee.com/li-yihao0328/nc_bot/stargazers'><img src='https://gitee.com/li-yihao0328/nc_bot/badge/star.svg?theme=dark' alt='star'></img></a>
    <a href='https://gitee.com/li-yihao0328/nc_bot/members'><img src='https://gitee.com/li-yihao0328/nc_bot/badge/fork.svg?theme=dark' alt='fork'></img></a>
	<a href="https://gitee.com/li-yihao0328/nc_bot"><img src="https://img.shields.io/badge/ncatbot-v1.0.0-brightgreen.svg"></a>
	<a href="https://gitee.com/y_project/RuoYi-Vue/blob/master/LICENSE"><img src="https://img.shields.io/github/license/mashape/apistatus.svg"></a>
    <a href="https://qm.qq.com/q/CHbzJ2LH4k"><img src="https://img.shields.io/badge/ğŸ’¬ NcatBot/à¸…^â€¢ï»Œâ€¢^à¸…ğŸ‰-201487478-brightgreen.svg"></a>
</p>

ncatbotæ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºNapCatçš„QQä¸ªäººå·PYTHONåº“ï¼Œä½¿ç”¨pythonè°ƒç”¨NTQQã€‚

ä½¿ç”¨ç®€å•çš„ä»£ç ï¼Œä½ å°±å¯ä»¥å®Œæˆä¸€ä¸ªèƒ½å¤Ÿå¤„ç†æ‰€æœ‰ä¿¡æ¯çš„QQæœºå™¨äººã€‚

è¯¥PYTHONé¡¹ç›®çš„æœºå™¨äººåŒ…å«äº†å†…ç½®æŒ‡ä»¤ï¼Œè¿è¡Œå³ç”¨ï¼›é™¤æ­¤ä¹‹å¤–ï¼Œé¡¹ç›®å†…ç½®äº†NapCatä¸€é”®å¯åŠ¨ã€‚

å¸Œæœ›è¿™ä¸ªé¡¹ç›®èƒ½å¤Ÿå¸®åŠ©ä½ æ‰©å±•ä½ çš„ä¸ªäººçš„QQå·ã€æ–¹ä¾¿è‡ªå·±çš„ç”Ÿæ´»ã€‚

## æ›´æ–°è¿›åº¦

---
[![æœ¨å­/ncatbot](https://gitee.com/li-yihao0328/nc_bot/widgets/widget_card.svg?colors=ffffff,1e252b,323d47,455059,d7deea,99a0ae)](https://gitee.com/li-yihao0328/nc_bot)


## å®‰è£…

---
å¯ä»¥é€šè¿‡æœ¬å‘½ä»¤å®‰è£…ncatbotï¼š
```commandline
git clone https://gitee.com/li-yihao0328/nc_bot.git
```
## ç®€å•å…¥é—¨å®ä¾‹

---
åœ¨å¼€å§‹å¼€å‘æœºå™¨äººä¹‹å‰ï¼Œä½ éœ€è¦å…ˆé…ç½®config.yamlæ–‡ä»¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è‡ªå¯åŠ¨napcatå’Œé¡¹ç›®å†…éƒ¨æŒ‡ä»¤ã€‚
è¿™æ˜¯ä¸€ä»½é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼š
```yaml
ws:
  protocol: ws
  ip: 127.0.0.1
  port: 3001
  token: é€‰å¡«ï¼Œéšæ„å¡«å†™ï¼Œå»ºè®®å¡«å†™å†…å®¹

http:
  protocol: http
  ip: 127.0.0.1
  port: 3000
  token: é€‰å¡«ï¼Œéšæ„å¡«å†™ï¼Œå»ºè®®å¡«å†™å†…å®¹

ai:
  base_url: é€‰å¡«
  api_key: é€‰å¡«
  model: é€‰å¡«
  personality: é€‰å¡«

qq:
  bot: æœºå™¨äººQQè´¦å·ï¼Œå¿…å¡«
  user: ç®¡ç†å‘˜è´¦å·ï¼Œå¿…å¡«

nap_cat: ä½ çš„NapCat.Shellæ–‡ä»¶å¤¹çš„è·¯å¾„åœ°å€ï¼Œå½“ç„¶å¦‚æœä½ æ²¡æœ‰ä¸‹è½½çš„è¯ï¼Œå¯ä»¥å¡«å…¥NapCat.Shellæ–‡ä»¶çš„ä¸‹è½½åœ°å€ï¼Œä»–å°†ä¼šè‡ªè¡Œä¸‹è½½ï¼Œä¸è¿‡githubéœ€è¦å›½å¤–ç½‘ç»œç¯å¢ƒï¼Œæ‰€ä»¥å¡«å…¥ç½‘å€è¿è¡Œï¼Œè¯·æå‰å‡†å¤‡ç½‘ç»œç¯å¢ƒï¼Œå¦åˆ™ä¼šä¸‹è½½å®‰è£…å¤±è´¥ã€‚
```
å½“ä½ å¡«å†™å¥½äº†config.yamlä¹‹åï¼Œä½ å°±å¯ä»¥ç›´æ¥è¿è¡Œä»¥ä¸‹ä»£ç :
```python
from ncatbot.client import BotClient
bot = BotClient()

bot.run(reload=False)
```
è¿è¡Œåï¼Œnapcatå°†ä¼šè‡ªå¯åŠ¨ï¼Œå¹¶ä¸”æ ¹æ®config.yamlå†…çš„é…ç½®å¯¹napcatè¿›è¡Œé…ç½®ã€‚

æœ‰äº†ncatbotï¼Œè¿è¡Œåä½ å¯ä»¥ä½¿ç”¨è¿™äº›æŒ‡ä»¤ï¼š
```python
from ncatbot.client import BotClient
bot = BotClient()

bot.run(reload=True)# reload=True è¡¨ç¤ºä½ ä¸éœ€è¦è¿è¡Œå¯åŠ¨NapCat
```
ä½ ä¸éœ€è¦ç¼–å†™ä»»ä½•ä»£ç ï¼Œå³å¯ä½¿ç”¨å†…ç½®æŒ‡ä»¤ï¼Œä¸è¿‡ä½ éœ€è¦åœ¨config.yamlå†…å¡«å†™ç®¡ç†å‘˜QQè´¦å·ï¼Œå³`user`ã€‚
è¿è¡Œåï¼Œä½ å¯ä»¥åœ¨QQä¸Šå‘æœºå™¨äººå‘é€â€œ/å¸®åŠ©â€æ¥è·å–å¼•å¯¼ã€‚

å¦‚æœä½ æƒ³è¦å›å¤å‘ç»™æœºå™¨äººçš„æ–‡æœ¬æ¶ˆæ¯ï¼Œåªéœ€è¦è¿™æ ·ï¼š
```python
from ncatbot.client import BotClient
from ncatbot.message import GroupMessage,PrivateMessage

bot = BotClient()

@bot.group_event()
async def on_group_message(msg:GroupMessage):
    print(msg)
    if msg.raw_message == "test":
        await msg.reply(text="test")

@bot.private_event()
async def on_private_message(msg:PrivateMessage):
    print(msg)
    # ç§èŠåŒç†

bot.run(reload=True)
```
ä¸€äº›è¿›é˜¶åº”ç”¨å¯ä»¥åœ¨ä¸‹é¢çš„å¼€æºæœºå™¨äººçš„æºç å’Œè¿›é˜¶åº”ç”¨ä¸­çœ‹åˆ°ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥é˜…è§ˆ[æ–‡æ¡£](https://docs.ncatbot.xyz/)
## è¯•ä¸€è¯•

---
è¿™æ˜¯ä¸€ä¸ªåŸºäºè¿™ä¸€é¡¹ç›®çš„å¼€æºå°æœºå™¨äººï¼Œç™¾é—»ä¸å¦‚ä¸€è§ï¼Œæœ‰å…´è¶£å¯ä»¥[è¿›ç¾¤](https://qm.qq.com/q/L6XGXYqL86)å°è¯•ä¸€ä¸‹ã€‚
![img_1.png](example.png)
## è¿›é˜¶åº”ç”¨

---
**ç‰¹æ®Šçš„å­—å…¸ä½¿ç”¨æ–¹å¼**

é€šè¿‡æ‰“å°ncatbotçš„ç”¨æˆ·ä»¥åŠæ³¨å†Œæ¶ˆæ¯çš„å‚æ•°ï¼Œå¯ä»¥å‘ç°è¿™äº›å€¼éƒ½æ˜¯å­—å…¸ã€‚

ä½†å®é™…ä¸Šncatbotç²¾å¿ƒæ„é€ äº†ç¾¤èŠå’Œç§èŠçš„é”®å€¼ï¼Œä½¿å¾—å­—å…¸çš„ä½¿ç”¨æ›´åŠ æ–¹ä¾¿ï¼Œä¸è¿‡noticeå’Œrequestäº‹ä»¶çš„é”®å€¼åˆ™éœ€è¦ä½¿ç”¨å­—å…¸çš„é”®å€¼è®¿é—®ã€‚

ç¾¤èŠå’Œç§èŠæ‰€æœ‰çš„é”®å€¼éƒ½å¯ä»¥é€šè¿‡è¿™ä¸€æ–¹å¼è®¿é—®ï¼š
```python
@bot.group_event()
async def on_group_message(msg:GroupMessage):
    # ç­‰ä»·äºprint(msg["raw_message"])
    print(msg.raw_message)
```
**å„ç±»å‹æ¶ˆæ¯çš„æ³¨å†Œ**

ncatbotæ”¯æŒäº†napcatå®¢æˆ·ç«¯æ‰€æœ‰çš„äº‹ä»¶ï¼ŒåŒ…æ‹¬ç¾¤èŠã€ç§èŠã€é€šçŸ¥ã€è¯·æ±‚ç­‰ã€‚
```python
from ncatbot.client import BotClient
from ncatbot.message import GroupMessage,PrivateMessage

bot = BotClient()

@bot.group_event()
async def on_group_message(msg:GroupMessage):
    print(msg)

@bot.private_event()
async def on_private_message(msg:PrivateMessage):
    print(msg)

@bot.notice_event()
async def on_notice_message(msg):
    print(msg)
@bot.request_event()
async def on_request_message(msg):
    print(msg)
    
bot.run(reload=True)
```
**å„æ¶ˆæ¯ç±»å‹çš„æ³¨å†Œ**
ä¸¾ä¸ªä¾‹å­ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦ç›‘å¬ç¾¤èŠçš„æ–‡æœ¬æ¶ˆæ¯ï¼Œä½ å¯ä»¥è¿™æ ·æ³¨å†Œï¼š
```python
from ncatbot.client import BotClient
from ncatbot.message import GroupMessage
bot = BotClient()

@bot.group_event(["text"])
async def on_group_message(msg:GroupMessage):
    print(msg)
    
bot.run(reload=True)
```
å½“ä½ éœ€è¦ç›‘å¬æ‰€æœ‰æ¶ˆæ¯ç±»å‹æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·æ³¨å†Œï¼š
```python
from ncatbot.client import BotClient
from ncatbot.message import GroupMessage
bot = BotClient()

@bot.group_event()
async def on_group_message(msg:GroupMessage):
    print(msg)
    
bot.run(reload=True)
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<mark>åªè¦æ¶ˆæ¯å†…å­˜åœ¨æ–‡æœ¬ï¼Œè¿™ä¸ªæ¶ˆæ¯å°±ä¼šè¢«ç›‘å¬ï¼Œè€Œä¸æ˜¯çº¯æ–‡æœ¬æ‰ä¼šè¢«ç›‘å¬</mark>

## å¦‚ä½•è·å–å¸®åŠ©

---
æ¬¢è¿[è¿›ç¾¤](https://qm.qq.com/q/L6XGXYqL86)å’Œæissue
## è”ç³»ä½œè€…

---
ä½œè€…ï¼š[æœ¨å­](https://gitee.com/li-yihao0328)

é‚®ç®±ï¼šyihaoli_2002@foxmail.com
## è´¡çŒ®è€…ä»¬

---
[liyihao1110](https://github.com/liyihao1110);
[gaojj2000](https://github.com/gaojj2000);
[Isaaczhr](https://github.com/Isaaczhr);
[Fish-LP](https://github.com/Fish-LP)

å¦‚æœä½ æœ‰å¥½çš„ideaï¼Œæ¬¢è¿æissueå’Œprï¼

## è‡´è°¢

---
æ„Ÿè°¢ [NapCat](https://github.com/NapNeko/NapCatQQ)


